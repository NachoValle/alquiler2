{% extends "core/base.html" %}
{% load static %}
 {% block head %}
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script> 
<link href="https://fonts.googleapis.com/css?family=Open+Sans" rel="stylesheet">
<style type="text/css">
/*.autocomplete {
  the container must be positioned relative:
  position: relative;
  display: inline-block;*/
}
.autocomplete-items {
  position: absolute;
  border: 1px solid #d4d4d4;
  border-bottom: none;
  border-top: none;
  z-index: 99;
  /*position the autocomplete items to be the same width as the container:*/
  top: 100%;
  left: 0;
  right: 0;
}
.autocomplete-items div {
  padding: 10px;
  cursor: pointer;
  background-color: #fff;
  border-bottom: 1px solid #d4d4d4;
}
.autocomplete-items div:hover {
  
  background-color: #afb1e9;
}


.autocomplete-active {
  /*when navigating through the items using the arrow keys:
  background-color: DodgerBlue !important;
  color: #ffffff;
}
input[type=text] {
  background-color: #f1f1f1;
  width: 100%;*/
}
  /* multipaso*/

html, body{
  width: 100%;
  height: 100%;
  margin: 0;
  padding: 0;
  font-family: 'Open Sans', sans-serif;
  background-color: #3498db;
}

h1, h2, h3, h4, h5 ,h6{
  font-weight: 200;
}

a{
  text-decoration: none;
}

p, li, a{
  font-size: 14px;
}

fieldset{
  margin: 0;
  padding: 0;
  border: none;
}

/* GRID */

.twelve { width: 100%; }
.eleven { width: 91.53%; }
.ten { width: 83.06%; }
.nine { width: 74.6%; }
.eight { width: 66.13%; }
.seven { width: 57.66%; }
.six { width: 49.2%; }
.five { width: 40.73%; }
.four { width: 32.26%; }
.three { width: 23.8%; }
.two { width: 15.33%; }
.one { width: 6.866%; }

/* COLUMNS */

.col {
	display: block;
	float:left;
	margin: 0 0 0 1.6%;
}

.col:first-of-type {
  margin-left: 0;
}

.container{
  width: 100%;
  max-width: 750px;
  margin: 0 auto;
  position: relative;
}

.row{
  padding: 20px 0;
}

/* CLEARFIX */

.cf:before,
.cf:after {
    content: " ";
    display: table;
}

.cf:after {
    clear: both;
}

.cf {
    *zoom: 1;
}

.wrapper{
  width: 800px;
  margin: 10px 0;
  min-height: 530px;
}

/* STEPS */

.steps{
  list-style-type: none;
  margin: 0;
  padding: 0;
  background-color: #fff;
  text-align: center;
   width: 750px;
}


.steps li{
  display: inline-block;
  margin: 20px;
  color: #ccc;
  padding-bottom: 5px;
}

.steps li.is-active{
  border-bottom: 1px solid #3498db;
  color: #3498db;
}

/* FORM */

.form-wrapper .section{
  padding: 0px 20px 30px 20px;
  -webkit-box-sizing: border-box;
  -moz-box-sizing: border-box;
  box-sizing: border-box;
  background-color: #fff;
  opacity: 0;
  -webkit-transform: scale(1, 0);
  -ms-transform: scale(1, 0);
  -o-transform: scale(1, 0);
  transform: scale(1, 0);
  -webkit-transform-origin: top center;
  -moz-transform-origin: top center;
  -ms-transform-origin: top center;
  -o-transform-origin: top center;
  transform-origin: top center;
  -webkit-transition: all 0.5s ease-in-out;
  -o-transition: all 0.5s ease-in-out;
  transition: all 0.5s ease-in-out;
  text-align: center;
  position: absolute;
  width: 100%;
  min-height: 600px
}

.form-wrapper .section h3{
  margin-bottom: 30px;
}

.form-wrapper .section.is-active{
  opacity: 1;
  -webkit-transform: scale(1, 1);
  -ms-transform: scale(1, 1);
  -o-transform: scale(1, 1);
  transform: scale(1, 1);
}

.form-wrapper .button, .form-wrapper .submit{
  background-color: #3498db;
  display: inline-block;
  padding: 10px 30px;
  color: #fff;
  cursor: pointer;
  font-size: 14px !important;
  font-family: 'Open Sans', sans-serif !important;
  position: absolute;
  right: 20px;
  bottom: 5px;
 
}
.btn{
  margin-top:30px;
 
  
 
  background-color: #3498db;
 
  padding: 10px 30px;
  color: #fff;
  
}
.form-wrapper .submit{
  border: none;
  outline: none;
  -webkit-box-sizing: content-box;
  -moz-box-sizing: content-box;
  box-sizing: content-box;
  -webkit-appearance: none;
  -moz-appearance: none;
  appearance: none;
}
.form-wrapper input[type="number"],
.form-wrapper select{
  
  padding: 10px;
  margin: 1px auto;
  background-color: #f1f1f1;
  border: none;
  width:70%;
  outline: none;
  font-size: 14px !important;
  font-family: 'Open Sans', sans-serif !important;
}

.form-wrapper input[name="total_c1"],.form-wrapper input[name="total_c2"],.form-wrapper input[name="total_c3"],.form-wrapper input[name="total_c4"],.form-wrapper input[name="total_c5"],.form-wrapper input[name="total_c6"],
.form-wrapper input[name="precio_c1"],.form-wrapper input[name="precio_c2"],.form-wrapper input[name="precio_c3"],.form-wrapper input[name="precio_c4"],.form-wrapper input[name="precio_c5"],.form-wrapper input[name="precio_c6"],
.form-wrapper input[name="cantidad_c1"],.form-wrapper input[name="cantidad_c2"],.form-wrapper input[name="cantidad_c3"],.form-wrapper input[name="cantidad_c4"],.form-wrapper input[name="cantidad_c5"],.form-wrapper input[name="cantidad_c6"],
.form-wrapper select[name="concepto1"],.form-wrapper select[name="concepto2"],.form-wrapper select[name="concepto3"],.form-wrapper select[name="concepto4"],.form-wrapper select[name="concepto5"],.form-wrapper select[name="concepto6"]
{  
  padding: 5px;
  margin: 3px auto;
  background-color: #f1f1f1;
  border: none;
  width:95%;
  outline: none;
  font-size: 14px !important;
  font-family: 'Open Sans', sans-serif !important;
}


.form-wrapper input[type="time"],
.form-wrapper input[type="text"],
.form-wrapper input[type="password"]{
  display: block;
  padding: 10px;
  margin: 3px auto;
  background-color: #f1f1f1;
  border: none;
  width:100%;
  outline: none;
  font-size: 14px !important;
  font-family: 'Open Sans', sans-serif !important;
}
.form-wrapper input[type="date"]{
  display: block;
  padding: 4px;
  margin: 3px auto;
  background-color: #f1f1f1;
  border: none;
  width:100%;
  outline: none;
  font-size: 14px !important;
  font-family: 'Open Sans', sans-serif !important;
}
.form-wrapper input[name="total"]{
color:black;
font-weight:600;
}

.form-wrapper input[name="a_licencia"]{
text-align:center;

}

.form-wrapper input[name="conductor_a"],
.form-wrapper input[name="vehiculo"],
.form-wrapper input[name="cliente"],
.form-wrapper input[name="conductor"]{
  display: block;
  padding: 10px;
  margin: 3px auto;
  background-color: #fbfbfb;
  border: none;
  width:100%;
  outline: none;
  font-size: 14px !important;
  font-family: 'Open Sans', sans-serif !important;
  
}
.form-wrapper input[type="radio"]{
  display: none;
}

.form-wrapper input[type="radio"] + label{
  display: block;
  border: 1px solid #ccc;
  width: 100%;
  max-width: 100%;
  padding: 10px;
  -webkit-box-sizing: border-box;
  -moz-box-sizing: border-box;
  box-sizing: border-box;
  cursor: pointer;
  position: relative;
}


.form-wrapper input[type="radio"] + label:before{
  content: "✔";
  position: absolute;
  right: -10px;
  top: -10px;
  width: 30px;
  height: 30px;
  line-height: 30px;
  border-radius: 100%;
  background-color: #3498db;
  color: #fff;
  display: none;
}

.form-wrapper input[type="radio"]:checked + label:before{
  display: block;
}

.form-wrapper input[type="radio"] + label h4{
  margin: 15px;
  color: #ccc;
}

.form-wrapper input[type="radio"]:checked + label{
  border: 1px solid #3498db;
}

.form-wrapper input[type="radio"]:checked + label h4{
  color: #3498db;
}



.fa-thumbs-up{
  color:green;
}
.titulocliente{
   color:red;
}
.titulo{
   color:red;
}
#id_cliente{
  background= #fff;
}
#id_conductor{
  background= #fff;
}
.colum-1,
.colum-2,
.colum-3,
.colum-4,
.colum-5,
.colum-6,
.colum-7,
.colum-8,
.colum-9,
.colum-10,
.colum-11{
    display: inline-block;
    position: relative;
    min-height: 1px;
   
    padding-left: 2px;
    float:left;
}
.colum-12 {
    display: inline-block;
    position: relative;
    min-height: 1px;
    
    margin-left: 15px;
    margin-right: -10px;
    float:left;
}
.colum-1 {
  width: 8.33333333%;

}
.colum-2 {
  width: 16.66666667%;

}
.colum-3 {
      width: 25%;

}
.colum-4 {
      width: 25%;

}
.colum-5 {
      width: 41.66666667%;

}
.colum-6 {
  width: 50%;
}

.colum-7 {
      width:58.33333333%;

}
.colum-8 {
      width: 66.66666667%;

}
.colum-9 {
      width: 75%;

}
.colum-10 {
      width: 83.33333333%;

}
.colum-11 {
      width: 91.66666667%;

}
.colum-12 {
  width: 95.55%;
}

</style> 
 <script>



 </script>
 
 {% endblock %}
{%  block titulo_pagina %}Crear Contrato{% endblock %}

{% block content %}
 <div class="container">
    
     <form  method="post">{% csrf_token %}
      <div class="color:red">
                {{ form.errors }}</div>
        <div class="form-wrapper">
        <fieldset class="section  is-active col-sm-12">
          <h3 id="titulo" class="">Actualizar Contrato {% if contrato.b_madrid %} {{contrato.c_madrid}} {% elif contrato.b_salamanca %} {{contrato.c_salamanca}} {% elif contrato.b_valladolid %} {{contrato.c_valladolid}} {% elif contrato.b_las_palmas %} {{contrato.c_las_palmas}} {% elif contrato.b_mallorca %} {{contrato.c_mallorca}} {% elif contrato.b_zamora %} {{contrato.c_zamora}} {% endif %} - {{contrato.oficina}}</h3>          
                                      
                                   <div class="col-sm-6" style="border:ridge #3498db 1px; padding:5px "> <label> <b>AHORA:</b> </label><br>{% now "j \d\e F \d\e  Y \h\o\r\a\: H:i" %}</div>   
                                   <div class="col-sm-6" style="border:ridge #3498db 1px; padding:5px "><label><b>Fin de contrato:</b></label><br> {{contrato.f_fin}} hora: {{contrato.h_fin}}</div>   
     
    
                           <div class="col-sm-4" style="border:ridge #3498db 1px; padding:5px; margin-top:4px; "> 
                            <label id="entregado" {% if contrato.alquilado %} style="color:blue">Vehiculo Alquilado</label>{% else %}style="color:green">Vehículo Entregado</label> {% endif %}
                              {{form.alquilado}}
                                    </div>                                     

                                    <div class="col-sm-4" style="border:ridge #3498db 1px; padding:5px; margin-top:4px; "> 
                            <label id="fianzabol" {% if contrato.fianza_deposito %}style="color:blue">Fianza en Depósito</label>{% else %}style="color:green">Fianza Devuelta</label> {% endif %}
                              {{form.fianza_deposito}}
                                    </div> 
                                    
                              <div class="col-sm-4" style="border:ridge #3498db 1px; padding:5px; margin-top:4px;  "> 
                            <label id="cancelado" {% if contrato.cancelado %}style="color:red">Contrato Cancelado</label>{% else %}style="color:green">Contrato Activo</label> {% endif %}
                              {{form.cancelado}}
                                    </div> 

                            <div class="col-sm-4" style="border:ridge #3498db 1px; padding:5px; margin-top:4px; ">
                            <label id="fianzatarjeta">{% if contrato.fianza_tarjeta %} Fianza en TARJETA:{% else %}Fianza en EFECTIVO:{% endif %} </label><label>{{contrato.fianza}} € </label>{{form.fianza_tarjeta}}
                             </div> 

                             <div class="col-sm-4" style="border:ridge #3498db 1px; padding:5px; margin-top:4px; ">
                            <label id="alquilertarjeta">{% if contrato.pago_tarjeta %} Alquiler en TARJETA :{% else %}Alquiler en EFECTIVO:{% endif %} </label><label> {{contrato.total}} € </label>{{form.pago_tarjeta}}
                             </div> 
                              <div class="col-sm-4" style="border:ridge #3498db 1px; padding:4px; margin-top:4px; ">
                            <label id="observacion">Observación:</label>{{form.observacion}}
                             </div> 

                             <div class="col-sm-12" style="border:ridge #3498db 1px; padding:4px; margin-top:4px; ">
                             
                             <div class="colum-3">
                            <label id="kmentrega">KM entrega: </label>{{form.km_fin}}</div>

                             <div class="colum-3">
                            
                            <label >KM Recorridos: <b id="kmhechos">{{contrato.recorridos}}</b></label>
                    
                            <label >KM Extra: <b id="kmextra">{{extra}}</b></label></div>
                            
                             <div class="colum-3">
                            <label >KM salida:</label> <br><b id="kmsalida" style=" font-size: 16px">{{contrato.km_inicio}}</b></div>
                            <div class="colum-3">
                            <label>KM libres:</label><br><b  id="kmlibres" style=" font-size: 16px">{% if contrato.km_ilimitado %}ILIMITADOS{% else %} {{contrato.km_libres}}{% endif %}</b></div>
                            
                             
                            
                            </div>

                            <div class="col-sm-4" style="border:ridge #3498db 1px; padding:5px; margin-top:4px; ">
                            <label id="conductor">  CONDUCTOR: </label><br>
                            <b>nº:</b>{{contrato.id_conductor}}<br>
                            <b>Nombre:</b> {{contrato.nombre}} {{contrato.apellido}}<br>
                            <b>N.I.F.:</b> {{contrato.conductor}}<br>
                            <b>Contacto:</b> {{contrato.movil}}  // {{contrato.telefono}}
                             </div> 

                             <div class="col-sm-4" style="border:ridge #3498db 1px; padding:5px; margin-top:4px; ">
                             <label id="cliente">  CLIENTE: </label><br>
                            <b>nº:</b>{{contrato.id_cliente}}<br>
                            <b>Nombre:</b> {{contrato.c_nombre}} {{contrato.apellido}}<br>
                            <b>C.I.F.:</b> {{contrato.cliente}}<br>
                            <b>Contacto:</b>{% if contrato.c_movil %} {{contrato.c_movil}} {% endif %} // {% if contrato.c_telefono %} {{contrato.c_telefono}} {% endif %}
                             </div> 

                              <div class="col-sm-4" style="border:ridge #3498db 1px; padding:5px; margin-top:4px; ">
                            <label id="vehiculo">VEHICULO:</label><br>
                            <b>Nº: </b> {{contrato.id_vehiculo}}<br>
                            <b>Matricula: </b> {{contrato.vehiculo}}<br>
                            <b>Marca: </b> {{contrato.marca}} {{contrato.modelo}}<br>
                            <b>Combustible: </b> {{contrato.t_combustible}}
                             </div> 
                             
    


<div class="col-sm-12"> 
               <div class="form-group"> 
                <input type="submit" class="btn btn-primary" value="Actualizar Contrato" />

        
       
         
                </div>   </div>

         
        </fieldset>
        
              
              
              
            
         </div>
      </form>
    </div>
 



 

 




<script src="{% static 'core/alquiler/actualizar_contrato.js' %}"></script>




<script>

window.onload =
 
 entregado();
 cancelar();
 fianza();
 fianzatarjeta();
 alquilertarjeta();
 kmhechos();



</script>




{% endblock %}